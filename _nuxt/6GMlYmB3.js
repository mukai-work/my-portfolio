import{e as x,z as k,A as N,r as U,c as V,a as e,i,v as n,y as a,h as q,o as $,s as c}from"./i_oexzQr.js";import{u as B}from"./F8bIQiWC.js";import"./wSbNHcIL.js";const C={class:"p-4"},D=x({__name:"[id]",async setup(S){var p,m,b,y,v;let u,o;const f=k(),d=Number(f.params.id),{data:r}=([u,o]=N(()=>B(`/api/cards/${d}`,"$775zZJDyU8")),u=await u,o(),u),l=U({name:((p=r.value)==null?void 0:p.name)||"",setName:((m=r.value)==null?void 0:m.setName)||"",rarity:((b=r.value)==null?void 0:b.rarity)||"",quantity:((y=r.value)==null?void 0:y.quantity)||0,price:((v=r.value)==null?void 0:v.price)||0});async function w(){await $fetch(`/api/cards/${d}`,{method:"PUT",body:l}),await c("/cards")}return(T,t)=>($(),V("div",C,[t[11]||(t[11]=e("h1",{class:"text-2xl mb-4"},"Edit Card",-1)),e("form",{onSubmit:q(w,["prevent"]),class:"space-y-2"},[e("div",null,[t[5]||(t[5]=e("label",{class:"block"},"Name",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a(l).name=s),class:"border p-1 w-full",required:""},null,512),[[n,a(l).name]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block"},"Set",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>a(l).setName=s),class:"border p-1 w-full"},null,512),[[n,a(l).setName]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block"},"Rarity",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>a(l).rarity=s),class:"border p-1 w-full"},null,512),[[n,a(l).rarity]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block"},"Quantity",-1)),i(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=s=>a(l).quantity=s),class:"border p-1 w-full"},null,512),[[n,a(l).quantity,void 0,{number:!0}]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block"},"Price",-1)),i(e("input",{type:"number",step:"0.01","onUpdate:modelValue":t[4]||(t[4]=s=>a(l).price=s),class:"border p-1 w-full"},null,512),[[n,a(l).price,void 0,{number:!0}]])]),t[10]||(t[10]=e("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-1"},"Save",-1))],32)]))}});export{D as default};
