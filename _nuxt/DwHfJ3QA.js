var I=Object.defineProperty;var H=(s,e,r)=>e in s?I(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var P=(s,e,r)=>H(s,typeof e!="symbol"?e+"":e,r);import{s as $}from"./wSbNHcIL.js";import{y as T,a1 as b,P as G,a2 as B,a3 as J,a4 as W,I as x,a5 as Q,n as U,m as V,h as X,a6 as z,a7 as Y,a8 as Z,J as K,p as A,r as N,a9 as k,aa as ee}from"./Bfj_vXhI.js";const ae=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],te=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",C=[];class re{constructor(){P(this,"_data",new R);P(this,"_hash",new R([...ae]));P(this,"_nDataBytes",0);P(this,"_minBufferSize",0)}finalize(e){e&&this._append(e);const r=this._nDataBytes*8,a=this._data.sigBytes*8;return this._data.words[a>>>5]|=128<<24-a%32,this._data.words[(a+64>>>9<<4)+14]=Math.floor(r/4294967296),this._data.words[(a+64>>>9<<4)+15]=r,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,r){const a=this._hash.words;let t=a[0],i=a[1],n=a[2],h=a[3],c=a[4],_=a[5],u=a[6],m=a[7];for(let o=0;o<64;o++){if(o<16)C[o]=e[r+o]|0;else{const g=C[o-15],D=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,f=C[o-2],d=(f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10;C[o]=D+C[o-7]+d+C[o-16]}const v=c&_^~c&u,p=t&i^t&n^i&n,O=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),l=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),y=m+l+v+te[o]+C[o],w=O+p;m=u,u=_,_=c,c=h+y|0,h=n,n=i,i=t,t=y+w|0}a[0]=a[0]+t|0,a[1]=a[1]+i|0,a[2]=a[2]+n|0,a[3]=a[3]+h|0,a[4]=a[4]+c|0,a[5]=a[5]+_|0,a[6]=a[6]+u|0,a[7]=a[7]+m|0}_append(e){typeof e=="string"&&(e=R.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let r,a=this._data.sigBytes/64;e?a=Math.ceil(a):a=Math.max((a|0)-this._minBufferSize,0);const t=a*16,i=Math.min(t*4,this._data.sigBytes);if(t){for(let n=0;n<t;n+=16)this._doProcessBlock(this._data.words,n);r=this._data.words.splice(0,t),this._data.sigBytes-=i}return new R(r,i)}}class R{constructor(e,r){P(this,"words");P(this,"sigBytes");e=this.words=e||[],this.sigBytes=r===void 0?e.length*4:r}static fromUtf8(e){const r=unescape(encodeURIComponent(e)),a=r.length,t=[];for(let i=0;i<a;i++)t[i>>>2]|=(r.charCodeAt(i)&255)<<24-i%4*8;return new R(t,a)}toBase64(){const e=[];for(let r=0;r<this.sigBytes;r+=3){const a=this.words[r>>>2]>>>24-r%4*8&255,t=this.words[r+1>>>2]>>>24-(r+1)%4*8&255,i=this.words[r+2>>>2]>>>24-(r+2)%4*8&255,n=a<<16|t<<8|i;for(let h=0;h<4&&r*8+h*6<this.sigBytes*8;h++)e.push(se.charAt(n>>>6*(3-h)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let r=0;r<e.sigBytes;r++){const a=e.words[r>>>2]>>>24-r%4*8&255;this.words[this.sigBytes+r>>>2]|=a<<24-(this.sigBytes+r)%4*8}else for(let r=0;r<e.sigBytes;r+=4)this.words[this.sigBytes+r>>>2]=e.words[r>>>2];this.sigBytes+=e.sigBytes}}function ne(s){return new re().finalize(s).toBase64()}function E(s){return ne($(s))}const ie={trailing:!0};function ce(s,e=25,r={}){if(r={...ie,...r},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let a,t,i=[],n,h;const c=(_,u)=>(n=oe(s,_,u),n.finally(()=>{if(n=null,r.trailing&&h&&!t){const m=c(_,h);return h=null,m}}),n);return function(..._){return n?(r.trailing&&(h=_),n):new Promise(u=>{const m=!t&&r.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const o=r.leading?a:c(this,_);for(const v of i)v(o);i=[]},e),m?(a=c(this,_),u(a)):i.push(u)})}}async function oe(s,e,r){return await s.apply(e,r)}const ue=Symbol.for("nuxt:client-only"),le=s=>s==="defer"||s===!1;function fe(...s){var O;const e=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&typeof s[0]!="object"&&!(typeof s[0]=="function"&&typeof s[1]=="function")&&s.unshift(e);let[r,a,t={}]=s;const i=T(()=>b(r));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=G(),h=()=>B.value,c=(l,y,w)=>{if(y.isHydrating)return y.payload.data[l];if(w.cause!=="refresh:manual"&&w.cause!=="refresh:hook")return y.static.data[l]};t.server??(t.server=!0),t.default??(t.default=h),t.getCachedData??(t.getCachedData=c),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=B.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,n._asyncData[i.value];const _=t.getCachedData(i.value,n,{cause:"initial"});(O=n._asyncData[i.value])!=null&&O._init||(n._asyncData[i.value]=L(n,i.value,a,t,_));const u=n._asyncData[i.value];u._deps++;const m=()=>n._asyncData[i.value].execute({cause:"initial",dedupe:t.dedupe}),o=t.server!==!1&&n.payload.serverRendered;{let l=function(f){const d=n._asyncData[f];d!=null&&d._deps&&(d._deps--,d._deps===0&&(d==null||d._off(),d._init=!1,q(n,f),d.execute=()=>Promise.resolve(),n._asyncData[f].data.value=B.value))};const y=J();if(y&&o&&t.immediate&&!y.sp&&(y.sp=[]),y&&!y._nuxtOnBeforeMountCbs){y._nuxtOnBeforeMountCbs=[];const f=y._nuxtOnBeforeMountCbs;W(()=>{f.forEach(d=>{d()}),f.splice(0,f.length)}),x(()=>f.splice(0,f.length))}const w=y&&(y._nuxtClientOnly||Q(ue,!1));o&&n.isHydrating&&(u.error.value||_!=null)?(u.pending.value=!1,u.status.value=u.error.value?"error":"success"):y&&!w&&(n.payload.serverRendered&&n.isHydrating||t.lazy)&&t.immediate?y._nuxtOnBeforeMountCbs.push(m):t.immediate&&m();const g=A();if(t.watch){const f=U(t.watch,()=>{u._execute({cause:"watch",dedupe:t.dedupe})},{flush:"post"});g&&V(()=>f())}const D=U(i,(f,d)=>{var F,S;const M=((F=n._asyncData[d])==null?void 0:F.data.value)!==B.value;d&&l(d),(S=n._asyncData[f])!=null&&S._init||(n._asyncData[f]=L(n,f,a,t,t.getCachedData(f,n,{cause:"initial"}))),n._asyncData[f]._deps++,(t.immediate||M)&&n._asyncData[f].execute({cause:"initial",dedupe:t.dedupe})},{flush:"sync"});g&&V(()=>{D(),l(i.value)})}const v={data:j(()=>{var l;return(l=n._asyncData[i.value])==null?void 0:l.data}),pending:j(()=>{var l;return(l=n._asyncData[i.value])==null?void 0:l.pending}),status:j(()=>{var l;return(l=n._asyncData[i.value])==null?void 0:l.status}),error:j(()=>{var l;return(l=n._asyncData[i.value])==null?void 0:l.error}),refresh:(...l)=>n._asyncData[i.value].execute(...l),execute:(...l)=>n._asyncData[i.value].execute(...l),clear:()=>q(n,i.value)},p=Promise.resolve(n._asyncDataPromises[i.value]).then(()=>v);return Object.assign(p,v),p}function j(s){return T({get(){var e;return(e=s())==null?void 0:e.value},set(e){const r=s();r&&(r.value=e)}})}function q(s,e){e in s.payload.data&&(s.payload.data[e]=void 0),e in s.payload._errors&&(s.payload._errors[e]=B.errorValue),s._asyncData[e]&&(s._asyncData[e].data.value=void 0,s._asyncData[e].error.value=B.errorValue,s._asyncData[e].pending.value=!1,s._asyncData[e].status.value="idle"),e in s._asyncDataPromises&&(s._asyncDataPromises[e]&&(s._asyncDataPromises[e].cancelled=!0),s._asyncDataPromises[e]=void 0)}function de(s,e){const r={};for(const a of e)r[a]=s[a];return r}function L(s,e,r,a,t){var _;(_=s.payload._errors)[e]??(_[e]=B.errorValue);const i=r,n=a.deep?X:z,h=t!=null,c={data:n(h?t:a.default()),pending:z(!h),error:Y(s.payload._errors,e),status:z("idle"),execute:(u={})=>{if(s._asyncDataPromises[e]){if(le(u.dedupe??a.dedupe))return s._asyncDataPromises[e];s._asyncDataPromises[e].cancelled=!0}if(u.cause==="initial"||s.isHydrating){const o=u.cause==="initial"?t:a.getCachedData(e,s,{cause:u.cause??"refresh:manual"});if(o!=null)return s.payload.data[e]=c.data.value=o,c.error.value=B.errorValue,c.status.value="success",Promise.resolve(o)}c.pending.value=!0,c.status.value="pending";const m=new Promise((o,v)=>{try{o(i(s))}catch(p){v(p)}}).then(async o=>{if(m.cancelled)return s._asyncDataPromises[e];let v=o;a.transform&&(v=await a.transform(o)),a.pick&&(v=de(v,a.pick)),s.payload.data[e]=v,c.data.value=v,c.error.value=B.errorValue,c.status.value="success"}).catch(o=>{if(m.cancelled)return s._asyncDataPromises[e];c.error.value=Z(o),c.data.value=K(a.default()),c.status.value="error"}).finally(()=>{m.cancelled||(c.pending.value=!1,delete s._asyncDataPromises[e])});return s._asyncDataPromises[e]=m,s._asyncDataPromises[e]},_execute:ce((...u)=>c.execute(...u),0,{leading:!0}),_default:a.default,_deps:0,_init:!0,_hash:void 0,_off:s.hook("app:data:refresh",async u=>{(!u||u.includes(e))&&await c.execute({cause:"refresh:hook"})})};return c}function ve(s,e,r){const[a={},t]=typeof e=="string"?[{},e]:[e,r],i=T(()=>b(s)),n=T(()=>b(a.key)||"$f"+E([t,typeof i.value=="string"?i.value:"",...he(a)]));if(!a.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:h,lazy:c,default:_,transform:u,pick:m,watch:o,immediate:v,getCachedData:p,deep:O,dedupe:l,...y}=a,w=N({...k,...y,cache:typeof a.cache=="boolean"?void 0:a.cache}),g={server:h,lazy:c,default:_,transform:u,pick:m,immediate:v,getCachedData:p,deep:O,dedupe:l,watch:o===!1?[]:[...o||[],w]};if(!v){let d=function(){g.immediate=!0};U(n,d,{flush:"sync",once:!0}),o&&U([...o,w],d,{flush:"sync",once:!0})}let D;return fe(n,()=>{var S;(S=D==null?void 0:D.abort)==null||S.call(D,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),D=typeof AbortController<"u"?new AbortController:{};const d=b(a.timeout);let M;return d&&(M=setTimeout(()=>D.abort(new DOMException("Request aborted due to timeout.","AbortError")),d),D.signal.onabort=()=>clearTimeout(M)),(a.$fetch||globalThis.$fetch)(i.value,{signal:D.signal,...w}).finally(()=>{clearTimeout(M)})},g)}function he(s){var r;const e=[((r=b(s.method))==null?void 0:r.toUpperCase())||"GET",b(s.baseURL)];for(const a of[s.params||s.query]){const t=b(a);if(!t)continue;const i={};for(const[n,h]of Object.entries(t))i[b(n)]=b(h);e.push(i)}if(s.body){const a=b(s.body);if(!a)e.push(E(a));else if(a instanceof ArrayBuffer)e.push(E(Object.fromEntries([...new Uint8Array(a).entries()].map(([t,i])=>[t,i.toString()]))));else if(a instanceof FormData)e.push(E(Object.fromEntries(a.entries())));else if(ee(a))e.push(E(N(a)));else try{e.push(E(a))}catch{console.warn("[useFetch] Failed to hash body",a)}}return e}export{ve as u};
