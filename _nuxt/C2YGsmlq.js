import{_ as p}from"./BNxYhghd.js";import{e as c,N as b,h as x,c as n,a as s,k as _,v as f,j as v,F as w,C as y,H as h,o as r,b as N,w as g,d as k,t as B,y as C}from"./RlM34d2_.js";import{u as T}from"./BXZBSgfZ.js";import"./wSbNHcIL.js";const V={class:"p-4"},M=c({__name:"index",async setup($){let o,i;const{data:d}=([o,i]=b(()=>T("/api/boards","$3OywYI5a9U")),o=await o,i(),o),t=x(""),u=async()=>{if(!t.value)return;const l=await $fetch("/api/boards",{method:"POST",body:{name:t.value}});t.value="",await C(`/boards/${l.id}`)};return(l,e)=>{const m=p;return r(),n("div",V,[e[2]||(e[2]=s("h1",{class:"text-2xl mb-4"},"Boards",-1)),s("form",{onSubmit:v(u,["prevent"]),class:"mb-4 flex gap-2"},[_(s("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a),placeholder:"New board name",class:"border p-1 flex-1"},null,512),[[f,t.value]]),e[1]||(e[1]=s("button",{type:"submit",class:"bg-blue-500 text-white px-3 py-1 rounded"}," Create ",-1))],32),s("ul",null,[(r(!0),n(w,null,y(h(d),a=>(r(),n("li",{key:a.id},[N(m,{to:`/boards/${a.id}`,class:"text-blue-600 underline"},{default:g(()=>[k(B(a.name),1)]),_:2},1032,["to"])]))),128))])])}}});export{M as default};
