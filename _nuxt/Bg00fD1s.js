import{e as v,g as a,G as p,C as w,c as y,a as c,t as i,E as x,o as C}from"./B4NfGDFn.js";import{_ as D}from"./DlAUqK2U.js";const R={class:"info bg-white bg-opacity-70 p-4 rounded shadow text-center"},$={class:"text-3xl font-bold"},j={class:"mt-2 text-lg"},B=v({__name:"weathermood",setup(b){const u=a(null),o=a(0),l=a(!0),t=a("読み込み中..."),_=p(()=>{const e=o.value;return e===0?"快晴":e===1||e===2?"晴れ時々曇り":e===3||e===45||e===48?"曇り":e>=51&&e<=67||e>=80&&e<=82?"雨":e>=71&&e<=77?"雪":e>=95?"雷雨":"不明"}),g=p(()=>{const e=o.value;return e===0||e===1||e===2?"clear":e===3||e===45||e===48?"cloudy":e>=51&&e<=67||e>=80&&e<=82?"rain":e>=71&&e<=77?"snow":e>=95?"thunder":"cloudy"});async function r(e,n,d){var h,f;const s=(await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${n}&current_weather=true&timezone=auto`)).json()).current_weather;if(u.value=s.temperature,o.value=s.weathercode,l.value=s.is_day===1,d)t.value=d;else try{const m=await(await fetch(`https://geocoding-api.open-meteo.com/v1/reverse?latitude=${e}&longitude=${n}&language=ja`)).json();t.value=((f=(h=m.results)==null?void 0:h[0])==null?void 0:f.name)||"現在地"}catch{t.value="現在地"}}return w(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>r(e.coords.latitude,e.coords.longitude),()=>r(35.6895,139.6917,"東京")):r(35.6895,139.6917,"東京")}),(e,n)=>(C(),y("div",{class:x(["weather-container",g.value,l.value?"day":"night"])},[c("div",R,[c("h1",$,i(t.value),1),c("p",j,i(u.value)+"°C - "+i(_.value),1)])],2))}}),M=D(B,[["__scopeId","data-v-33146319"]]);export{M as default};
