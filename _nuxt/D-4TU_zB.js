import{e as _,g as o,E as p,B as v,c as y,a as c,t as i,D as C,o as x}from"./i_oexzQr.js";import{_ as D}from"./DlAUqK2U.js";const k={class:"info bg-white bg-opacity-70 p-4 rounded shadow text-center"},R={class:"text-3xl font-bold"},B={class:"mt-2 text-lg"},$=_({__name:"weathermood",setup(T){const u=o(null),a=o(0),l=o(!0),t=o("Loading..."),g=p(()=>{const e=a.value;return e===0?"Clear sky":e===1||e===2?"Partly cloudy":e===3||e===45||e===48?"Cloudy":e>=51&&e<=67||e>=80&&e<=82?"Rain":e>=71&&e<=77?"Snow":e>=95?"Thunderstorm":"Unknown"}),m=p(()=>{const e=a.value;return e===0||e===1||e===2?"clear":e===3||e===45||e===48?"cloudy":e>=51&&e<=67||e>=80&&e<=82?"rain":e>=71&&e<=77?"snow":e>=95?"thunder":"cloudy"});async function r(e,n,d){var h,f;const s=(await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${e}&longitude=${n}&current_weather=true&timezone=auto`)).json()).current_weather;if(u.value=s.temperature,a.value=s.weathercode,l.value=s.is_day===1,d)t.value=d;else try{const w=await(await fetch(`https://geocoding-api.open-meteo.com/v1/reverse?latitude=${e}&longitude=${n}&language=en`)).json();t.value=((f=(h=w.results)==null?void 0:h[0])==null?void 0:f.name)||"Your location"}catch{t.value="Your location"}}return v(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>r(e.coords.latitude,e.coords.longitude),()=>r(35.6895,139.6917,"Tokyo")):r(35.6895,139.6917,"Tokyo")}),(e,n)=>(x(),y("div",{class:C(["weather-container",m.value,l.value?"day":"night"])},[c("div",k,[c("h1",R,i(t.value),1),c("p",B,i(u.value)+"Â°C - "+i(g.value),1)])],2))}}),S=D($,[["__scopeId","data-v-dfcd4676"]]);export{S as default};
